<div class="w-full">
  <!-- <div class="header">
      <h1>ğŸ•Œ Ù†Ø¸Ø§Ù… ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ØªØ³ÙƒÙŠÙ† - Ø§Ù„Ø¹Ù…Ø±Ø©</h1>
      <p>Ø¥Ø¯Ø§Ø±Ø© ÙˆØªÙ†Ø¸ÙŠÙ… ØªØ³ÙƒÙŠÙ† Ø§Ù„Ø­Ø¬Ø§Ø¬ ÙÙŠ Ø§Ù„ØºØ±Ù</p>
    </div>
  
    <div class="controls">
      <button class="btn btn-success" (click)="autoAssignFamily()">
        <span class="icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>
        ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
      </button>
      <button class="btn btn-warning" (click)="autoAssignSingles()">
        <span class="icon">ğŸ‘¤</span>
        ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ø²Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
      </button>
      <button class="btn btn-danger" (click)="resetAssignment()">
        <span class="icon">ğŸ”„</span>
        Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙƒÙ„
      </button>
      <button class="btn btn-info" (click)="generatePDF()">
        <span class="icon">ğŸ“„</span>
        Ø·Ø¨Ø§Ø¹Ø© PDF
      </button>
    </div> -->

  <div class="bg-white rounded-lg shadow-md p-6 mb-8 no-print">
    <div class="flex flex-wrap justify-between items-center gap-4">
      <div>
        <button (click)="autoAssignFamily()"
          class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition">
          ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        </button>
        <button (click)="autoAssignSingles()"
          class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg mr-2 transition">
          ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ø²Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        </button>
        <button (click)="resetAssignment()"
          class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg mr-2 transition">
          Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙƒÙ„
        </button>
        <button (click)="generatePDF()"
          class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg mr-2 transition">
          ØªØµØ¯ÙŠØ± PDF <i class="fa-solid fa-file-pdf"></i>
        </button>



      </div>
      <div>
        <label class="relative inline-flex items-center cursor-pointer mr-2">
          <span class="ml-2 text-sm font-medium text-gray-900">ÙˆØ¶Ø¹ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©</span>
          <input (change)="is_print_mode = !is_print_mode" type="checkbox" value="" class="sr-only peer">
          <div
            class="w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:bg-slate-800 transition-colors duration-200">
          </div>
          <div
            class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full shadow-md transform peer-checked:translate-x-5 transition-transform duration-200">
          </div>
        </label>
        <label class="relative inline-flex items-center cursor-pointer mr-2">
          <span class="ml-2 text-sm font-medium text-gray-900">Ø§Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¬ÙˆØ§Ù„</span>
          <input (change)="showPhoneNumber = !showPhoneNumber" type="checkbox" value="" class="sr-only peer">
          <div
            class="w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:bg-slate-800 transition-colors duration-200">
          </div>
          <div
            class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full shadow-md transform peer-checked:translate-x-5 transition-transform duration-200">
          </div>
        </label>
        <label class="relative inline-flex items-center cursor-pointer mr-2">
          <span class="ml-2 text-sm font-medium text-gray-900">Ø§Ø¸Ù‡Ø§Ø± Ø§Ù„ØªØ§Ø±ÙŠØ®</span>
          <input (change)="show_date = !show_date" type="checkbox" value="" class="sr-only peer">
          <div
            class="w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:bg-slate-800 transition-colors duration-200">
          </div>
          <div
            class="absolute left-1 top-1 w-4 h-4 bg-white rounded-full shadow-md transform peer-checked:translate-x-5 transition-transform duration-200">
          </div>
        </label>
      </div>
      <div>
        <button routerLink="/home"
          class="bg-black/90 hover:bg-indigo-900 text-white px-4 py-2 rounded-lg flex items-center transition">

          Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5 4v1h10V4H5zm0 12v1h10v-1H5z" clip-rule="evenodd" />
            <path fill-rule="evenodd" d="M3 6a1 1 0 011-1h12a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V6zm2 0v7h10V6H5z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="showLoading" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white p-6 rounded-lg shadow-lg">
      <div class="flex items-center">
        <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
          </path>
        </svg>
        <span>Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±...</span>
      </div>
    </div>
  </div>

  <div *ngIf="showNotifications" class="fixed bottom-10 left-10 z-50" [ngClass]="{'hidden': is_print_mode}">
    <div class="bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg animate-fade-in-out">
      {{notificationMessage}}
    </div>
  </div>

  <div class="flex gap-4">
    <!-- Unassigned Clients Section -->
    <div class="  xl:w-[450px] lg:w-[300px]" [ngClass]="{'hidden': is_print_mode}">
      <div class="bg-white rounded-lg shadow-md p-4">
        <h2 class="text-xl font-semibold mb-4 text-gray-800 border-b pb-2">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ØºÙŠØ± Ø§Ù„Ù…Ø³ÙƒÙ†ÙŠÙ†</h2>


        <!-- Family Tab -->
        <div>
          <h3 class="text-lg font-medium mb-3 text-green-700 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
              <path d="M7 11a1 1 0 011-1h4a1 1 0 110 2H8a1 1 0 01-1-1z" />
              <path fill-rule="evenodd"
                d="M2 9a2 2 0 012-2h12a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V9zm14 0H4v6h12V9z"
                clip-rule="evenodd" />
            </svg>
            <div class="flex items-center justify-between w-full"> Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª <span class="text-xs text-gray-500 px-2">
                Ù…ØªØ¨Ù‚ÙŠ {{familyClients.length}} </span> </div>
          </h3>
          <div class="unassigned-list space-y-3">
            <div *ngFor="let client of familyClients; let i = index"
              class="client-card bg-white border rounded-lg p-3 cursor-pointer hover:shadow-md"
              [class.ring-2]="isClientSelected(client)" [class.ring-indigo-500]="isClientSelected(client)"
              (click)="selectClient(client, 'family')">
              <div class="flex justify-between items-start">
                <div>
                  <h4 class="font-medium text-gray-800">{{client.clientName}}</h4>
                  <div class="text-sm text-gray-600 mt-1">
                    <span>{{getStayTypeText(client.stayType)}}</span>
                    <span *ngIf="client.roomIndex" class="mx-2">|</span>
                    <span *ngIf="client.roomIndex">ØºØ±ÙØ© - {{client.room_type_num_beds}} Ø³</span>
                    <!-- <span *ngIf="client.roomIndex">ØºØ±ÙØ© {{client.roomIndex}} - {{client.bedsCountInRoom}} Ø³</span> -->
                  </div>
                </div>
              </div>
              <div class="mt-2 text-xs text-gray-500">
                <div>{{client.fromDate | date:'yyyy/MM/dd'}} - {{client.toDate | date:'yyyy/MM/dd'}}</div>
              </div>
            </div>
            <ng-container *ngIf="familyClients.length === 0">
              <div class="text-center text-gray-500 mt-4">
                Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ø§Ø¦Ù„Ø§Øª ØºÙŠØ± Ù…Ø³ÙƒÙ†ÙŠÙ†
              </div>
            </ng-container>
          </div>
        </div>

        <!-- Singles Tab -->
        <div class="mb-6">
          <h3 class="text-lg font-medium mb-3 text-blue-700 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
            </svg>
            <div class="flex items-center justify-between w-full"> Ø§Ù„Ø¹Ø²Ø§Ø¨ <span class="text-xs text-gray-500 px-2">
                Ù…ØªØ¨Ù‚ÙŠ {{FilterUnassignedSinglesPipe(singleClients).length}} </span> </div>
          </h3>
          <div class="unassigned-list space-y-3">
            <!-- *ngFor="let client of FilterUnassignedSinglesPipe(singleClients) " -->
            <div *ngFor="let client of FilterUnassignedSinglesPipe(singleClients); let i = index"
              class="client-card bg-white border rounded-lg p-3 cursor-pointer hover:shadow-md"
              [class.ring-2]="isClientSelected(client)" [class.ring-indigo-500]="isClientSelected(client)"
              (click)="selectClient(client, 'single')">
              <div class="flex justify-between items-start">
                <div>
                  <h4 class="font-medium text-gray-800">{{client.clientName}}</h4>
                  <div class="text-sm text-gray-600 mt-1">
                    <span>{{getStayTypeText(client.stayType)}}</span>
                    <span class="mx-2">|</span>
                    <span>{{client.totalCount}} Ø£ÙØ±Ø§Ø¯ ({{client.remainingCount}} Ù…ØªØ¨Ù‚ÙŠÙ†)</span>
                  </div>
                </div>
                <span
                  class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded-full">{{client.remainingCount}}</span>
              </div>
              <div class="mt-2 text-xs text-gray-500">
                <div>{{client.hotelName}}</div>
                <div>{{client.fromDate | date:'yyyy/MM/dd'}} - {{client.toDate | date:'yyyy/MM/dd'}}</div>
              </div>
            </div>
            <ng-container *ngIf="FilterUnassignedSinglesPipe(singleClients).length === 0">
              <div class="text-center text-gray-500 mt-4">
                Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ø²Ø§Ø¨ ØºÙŠØ± Ù…Ø³ÙƒÙ†ÙŠÙ†
              </div>
            </ng-container>
          </div>
        </div>


      </div>
    </div>

    <!-- Rooms Section -->
    <div class="w-full">
      <div class="bg-white rounded-lg " [ngClass]="{'p-6': !is_print_mode , 'p-0': is_print_mode}">
        <div class="flex justify-between items-center mb-6"
          [ngClass]="{'mb-6': !is_print_mode , 'mb-0': is_print_mode}">
          <h2 class="text-xl font-semibold text-gray-800">Ø§Ù„ØºØ±Ù</h2>
          <div class="text-sm text-gray-500">
            <span>{{occupiedRooms}}</span> / <span> {{rooms.length}} </span> ØºØ±Ù Ù…Ø³ØªØ®Ø¯Ù…Ø©
          </div>
        </div>

        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(0, 20); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">

                        <span>
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>

        <div *ngIf="rooms.length > 20" class=" bg-gray-300  my-2 p-4"></div>


        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(20, 40); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">

                        <span *ngIf="true">
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i + 20, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>

        <div *ngIf="rooms.length >40" class=" bg-gray-300  my-2 p-4"></div>

        <!-- 40, 60 -->
        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(40, 60); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">
                        <span *ngIf="true">
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i + 40, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>

        <!-- copy start from here -->
        <div *ngIf="rooms.length >60" class=" bg-gray-300  my-2 p-4"></div>

        <!-- 60, 80 -->
        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(60, 80); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">
                        <span *ngIf="true">
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i + 60, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>        
        
        <div *ngIf="rooms.length >80" class=" bg-gray-300  my-2 p-4"></div>

        <!-- 80, 100 -->
        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(80, 100); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">
                        <span *ngIf="true">
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i + 80, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>        
        
        <div *ngIf="rooms.length >100" class=" bg-gray-300  my-2 p-4"></div>

        <!-- 100, 120 -->
        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(100, 120); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">
                        <span *ngIf="true">
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i + 100, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>        
        
        <div *ngIf="rooms.length >120" class=" bg-gray-300  my-2 p-4"></div>

        <!-- 120, 140 -->
        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(120, 140); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">
                        <span *ngIf="true">
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i + 120, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>        
        
        <div *ngIf="rooms.length >140" class=" bg-gray-300  my-2 p-4"></div>

        <!-- 140, 160 -->
        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(140, 160); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">
                        <span *ngIf="true">
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i + 140, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>        
        
        <div *ngIf="rooms.length >160" class=" bg-gray-300  my-2 p-4"></div>

        <!-- 160, 180 -->
        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(160, 180); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">
                        <span *ngIf="true">
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i + 160, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>        
        
        <div *ngIf="rooms.length >180" class=" bg-gray-300  my-2 p-4"></div>

        <!-- 180, 200 -->
        <div class="grid grid-cols-1  gap-4"
          [ngClass]="{'grid-cols-4': is_print_mode ,'md:grid-cols-2' :!is_print_mode , 'lg:grid-cols-3' :!is_print_mode , 'xl:grid-cols-4' : !is_print_mode}">

          <div *ngFor="let room of rooms.slice(180, 200); let i = index"
            class="room print-room bg-white border rounded-lg  cursor-pointer relative"
            [ngClass]="{'min-h-[120px]': is_print_mode , 'min-h-[140px]': !is_print_mode , 'p-4': !is_print_mode , 'p-0': is_print_mode}"
            [class.border-blue-200]="room.roomType === 'single'" [class.border-green-200]="room.roomType === 'family'"
            [class.border-gray-200]="!room.roomType" [class.ring-2]="isRoomHighlighted(room)"
            [class.ring-indigo-500]="isRoomHighlighted(room)" (click)="assignClientToRoom(room)">
            <div class="flex justify-between items-center "
              [ngClass]="{'mb-0': is_print_mode || room.clients.length === 0 , 'mb-3': !is_print_mode }">
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="font-medium">ØºØ±ÙØ© {{room.number}}</span>
                <span *ngIf="room.roomType" class="text-xs font-medium ml-2 px-2 py-0.5 rounded-full"
                  [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                  [class.bg-green-100]="room.roomType === 'family'" [class.text-green-800]="room.roomType === 'family'">
                  {{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨' : 'Ø¹Ø§Ø¦Ù„ÙŠ'}} <span *ngIf="room.roomType === 'family'"> -
                    {{room.clients[0].room_type_num_beds}}</span>
                </span>

              </div>
              <div class="flex items-center" [ngClass]="{'hidden': is_print_mode}">
                <span class="text-xs text-gray-500">{{room.clients.length}}/{{room.maxCapacity}}</span>
              </div>
            </div>

            <div class="flex justify-between items-start">
              <div class="w-full ps-2 py-2" *ngIf="room.clients.length > 0; else emptyRoom">
                <div *ngFor="let client of room.clients; let clientIndex = index"
                  class="bg-gray-50 rounded  text-sm relative group"
                  [ngClass]="{'mb-0 p-0': is_print_mode , 'p-2 mb-2': !is_print_mode}">
                  <div class="flex justify-between items-start">
                    <div>
                      <div class="font-medium">{{client.clientName}}</div>
                      <div class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': is_print_mode}">
                        <span *ngIf="true">
                          {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                          :'ar')}} </span>
                        <!-- <span *ngIf="client.numOfRooms > 1" class="mx-1">|</span>
                        <span *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                      </div>
                      <!-- <span class="text-xs text-gray-600 mt-1" [ngClass]="{'hidden': !is_print_mode}"
                        *ngIf="client.numOfRooms > 1">ØºØ±ÙØ© {{client.roomIndex}}</span> -->
                    </div>
                    <button (click)="removeClientFromRoom(i + 180, clientIndex); $event.stopPropagation()"
                      [ngClass]="{'hidden': is_print_mode}"
                      class="opacity-0 p-1 group-hover:opacity-100 text-red-500 hover:bg-red-100 hover:text-red-700 transition-opacity">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M6 18L18 6M6 6l12 12" />
                      </svg>
                    </button>
                  </div>
                  <div class="text-xs text-gray-500 mt-1" [ngClass]="{'hidden': is_print_mode}">
                    {{client.invoiceNumber}} -
                    <span *ngIf="client.isFamily">Ø¹Ø§Ø¦Ù„Ø©</span>
                    <span *ngIf="!client.isFamily">Ø¹Ø²Ø§Ø¨</span>
                  </div>
                  <div *ngIf="showPhoneNumber || show_date"
                    class="text-[12px] text-gray-500 phone_number flex flex-col">
                    <span *ngIf="show_date">
                      {{(client.fromDate | date: 'dd,MMM' :'' : 'ar' )+ ' - ' + (client.toDate |date: 'dd,MMM' :''
                      :'ar')}} </span>
                    <span *ngIf="showPhoneNumber"> {{client.phoneNumber}}</span>
                  </div>
                </div>
              </div>


              <div class=" flex flex-col items-start w-fit" [ngClass]="{'hidden': !is_print_mode}">
                <div class="border border-gray-300 rounded-tl-lg white-box bg-white flex flex-col gap-0">
                  <span *ngIf="room.clients.length > 0"
                    class=" font-medium px-2 text-[14px] w-full text-center line-height-normal"
                    [class.bg-blue-100]="room.roomType === 'single'" [class.text-blue-800]="room.roomType === 'single'"
                    [class.bg-green-100]="room.roomType === 'family'"
                    [class.text-green-800]="room.roomType === 'family'">{{room.roomType === 'single' ? 'Ø¹Ø²Ø§Ø¨'
                    :'Ø¹Ø§Ø¦Ù„ÙŠ'}}</span>

                  <span *ngIf="room.roomType === 'family'"
                    class="text-[14px] font-medium px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'">{{room.clients[0].room_type_num_beds}} Ø³Ø±ÙŠØ±</span>
                  <!-- <span *ngIf="room.roomType === 'family'" class="text-[14px] font-bold px-2 w-full text-center rounded-full my-0 py-0 line-height-normal"
                    [class.text-green-800]="room.roomType === 'family'"> </span> -->

                </div>

              </div>
            </div>

            <ng-template #emptyRoom>
              <div class="bg-gray-50 rounded p-4 w-full h-full text-center text-sm text-gray-500">
                ÙØ§Ø±ØºØ©
                <div *ngIf="selectedClient" class="mt-2 text-xs text-indigo-600">
                  Ø§Ù†Ù‚Ø± Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯
                </div>
              </div>
            </ng-template>
          </div>


        </div>
        <!-- copy end  here -->



        <div class="flex justify-center items-center w-full" [ngClass]="{'hidden': is_print_mode}">
          <button (click)="add_new_rooms()"
            class="btn btn-primary bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition my-10">Ø¥Ø¶Ø§ÙØ©
            ÙˆØ±Ù‚Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
        </div>
      </div>
    </div>
  </div>








</div>













<!-- <div class="main-content">
    <div class="stats">
      <div class="stat-card">
        <div class="stat-number">{{ totalClients }}</div>
        <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ assignedClients }}</div>
        <div class="stat-label">Ø§Ù„Ù…Ø³ÙƒÙ†ÙŠÙ†</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ unassignedClients }}</div>
        <div class="stat-label">ØºÙŠØ± Ù…Ø³ÙƒÙ†ÙŠÙ†</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">{{ occupiedRooms }}</div>
        <div class="stat-label">Ø§Ù„ØºØ±Ù Ø§Ù„Ù…Ø´ØºÙˆÙ„Ø©</div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">
        <span class="icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>
        Ø§Ù„ØºØ±Ù Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ© ØºÙŠØ± Ø§Ù„Ù…Ø³ÙƒÙ†Ø©
      </h2>
      <div class="clients-grid">
        <div *ngFor="let client of familyClients" class="client-card family" [class.selected]="isClientSelected(client)"
          (click)="selectClient(client, 'family')">
          <div class="client-info">
            <div class="client-name">{{ client.clientName }}</div>
            <div class="client-details">
              {{ getStayTypeText(client.stayType) }} - {{ getGenderText(client.gender) }}
              <br>
              Ø§Ù„ÙÙ†Ø¯Ù‚: {{ client.hotelName }}
              <br>
              Ø§Ù„ÙØ§ØªÙˆØ±Ø©: {{ client.invoiceNumber }}
            </div>
            <span class="client-count">ØºØ±ÙØ© {{ client.roomIndex }}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
      <h2 class="section-title">
        <span class="icon">ğŸ‘¤</span>
        Ø§Ù„Ø¹Ø²Ø§Ø¨ ØºÙŠØ± Ø§Ù„Ù…Ø³ÙƒÙ†ÙŠÙ†
      </h2>
      <div class="clients-grid">
        <div *ngFor="let client of FilterUnassignedSinglesPipe(singleClients) " class="client-card single"
          [class.selected]="isClientSelected(client)" (click)="selectClient(client, 'single')">
          <div class="client-info">
            <div class="client-name">{{ client.clientName }}</div>
            <div class="client-details">
              {{ getStayTypeText(client.stayType) }} - {{ getGenderText(client.gender) }}
              <br>
              Ø§Ù„ÙÙ†Ø¯Ù‚: {{ client.hotelName }}
              <br>
              Ø§Ù„ÙØ§ØªÙˆØ±Ø©: {{ client.invoiceNumber }}
            </div>
            <span class="client-count">Ã— {{ client.remainingCount }}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="rooms-section">
      <h2 class="section-title">
        <span class="icon">ğŸ </span>
        Ø§Ù„ØºØ±Ù (20 ØºØ±ÙØ©)
      </h2>
      <div class="rooms-grid">
        <div *ngFor="let room of rooms" class="room-card" [class.can-drop]="isRoomHighlighted(room)"
          (click)="assignClientToRoom(room)">
          <div class="room-header">
            <div class="room-number">ØºØ±ÙØ© {{ room.number }}</div>
            <div class="room-capacity" [class.full]="room.clients.length >= room.maxCapacity">
              {{ room.clients.length }}/{{ room.maxCapacity }}
            </div>
          </div>
          <div class="room-clients">
            <div *ngIf="room.clients.length === 0" class="empty-room">ØºØ±ÙØ© ÙØ§Ø±ØºØ©</div>
            <div *ngFor="let client of room.clients; let i = index" class="room-client">
              <div class="room-client-info">
                <div class="room-client-name">{{ client.clientName }}</div>
                <div class="room-client-type">
                  {{ getStayTypeText(client.stayType) }} - {{ client.invoiceNumber }}
                </div>
              </div>
              <button class="remove-client" (click)="removeClientFromRoom(room.id - 1, i); $event.stopPropagation()">
                Ã—
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> -->

<!-- Print Content -->
<!-- <div class="print-content" id="printContent">
    <div style="text-align: center; margin-bottom: 30px;">
      <h1>ØªÙ‚Ø±ÙŠØ± ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ØªØ³ÙƒÙŠÙ† - Ø§Ù„Ø¹Ù…Ø±Ø©</h1>
      <p>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©: {{ 22/10/2025 | date:'fullDate':'':'ar' }}</p>
    </div>
    <div class="print-rooms-grid">
      <div *ngFor="let room of rooms" class="print-room">
        <div class="print-room-number">{{ room.number }}</div>
        <div class="print-room-clients">
          <div *ngIf="room.clients.length === 0">ØºØ±ÙØ© ÙØ§Ø±ØºØ©</div>
          <div *ngFor="let client of room.clients">
            â€¢ {{ client.clientName }} ({{ client.invoiceNumber }})
          </div>
        </div>
      </div>
    </div>
  </div>
</div> -->

<!-- <div class="notification" [class.show]="showNotification">
  {{ notificationMessage }}
</div> -->

<!-- <div class="loading" *ngIf="showLoading">
  <div class="spinner"></div>
  <div>Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ PDF...</div>
</div> -->


<!-- 
Ø£Ù†Ø§ Ø£Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø­Ø¬Ø² Ø±Ø­Ù„Ø§Øª Ø¹Ù…Ø±Ø©ØŒ ÙˆØ£Ù‚ÙˆÙ… Ø¨Ø¨Ù†Ø§Ø¡ ÙƒÙˆÙ…Ø¨ÙˆÙ†Ù†Øª Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ØªØ³ÙƒÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„ØºØ±Ù.Ø§Ø±ÙŠØ¯ Ù…Ù†Ùƒ ØªÙ†ÙÙŠØ° Ø§Ù„Ø§ØªÙŠÂ Ø¨ØªØµÙ…ÙŠÙ… Ø§Ø­ØªØ±Ø§ÙÙŠ Ùˆ Ù…Ù†Ø§Ø³Ø¨ Ùˆ ÙŠØªÙ…ÙŠØ² Ø¨Ø§Ù„Ø³Ù„Ø§Ø³Ø© Ùˆ Ø§Ù„Ø³Ù‡ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Â 

ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆÙ†Ù†ØªØŒ Ù†Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ù…Ù† API ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø«Ù„ Ù†ÙˆØ¹ Ø§Ù„Ø­Ø¬Ø² (Ø¹Ø§Ø¦Ù„ÙŠ Ø£Ùˆ Ø¹Ø²Ø§Ø¨)ØŒ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙØ±Ø§Ø¯ (totalCount)ØŒ ÙˆØ¹Ø¯Ø¯ Ø§Ù„ØºØ±Ù Ø£Ùˆ Ø§Ù„Ø£Ø³Ø±Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.

Ø§Ù„Ù‡Ø¯Ù Ù…Ù† Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆÙ†Ù†Øª Ù‡Ùˆ Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„ØºÙŠØ± Ù…ÙˆØ²Ø¹ÙŠÙ†ØŒ ÙˆØªÙ‚Ø³ÙŠÙ…Ù‡Ù… Ø¥Ù„Ù‰ Ø£Ù‚Ø³Ø§Ù…:

Ø§Ù„ØºØ±Ù Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ© (ØªØ£Ø®Ø° Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© ÙƒØ§Ù…Ù„Ù‹Ø§).

Ø§Ù„Ø¹Ø²Ø§Ø¨ (ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªÙ…ÙŠÙŠØ² Ø¨ÙŠÙ† Ø§Ù„Ø±Ø¬Ø§Ù„ ÙˆØ§Ù„Ù†Ø³Ø§Ø¡ Ù…Ø¤Ù‚ØªÙ‹Ø§).

ÙˆÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¹Ù…ÙŠÙ„ Ø«Ù… Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ ØºØ±ÙØ© Ù„ØªØ³ÙƒÙŠÙ†Ù‡ ÙŠØ¯ÙˆÙŠÙ‹Ø§ØŒ Ù…Ø¹ Ù…Ø±Ø§Ø¹Ø§Ø© Ø£Ù† ÙƒÙ„ ØºØ±ÙØ© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 4 Ø£ÙØ±Ø§Ø¯ ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰.

âœ… Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡:

ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ:

ÙƒÙ„ Ø­Ø¬Ø² Ø¹Ø§Ø¦Ù„ÙŠ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ ØºØ±Ù Ù…Ø­Ø¯Ø¯ (numOfRooms).

ÙŠØªÙ… ØªÙƒØ±Ø§Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙÙŠ Ù‚Ø³Ù… "Ø§Ù„ØºØ±Ù Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©" Ø¨Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª = Ø¹Ø¯Ø¯ Ø§Ù„ØºØ±Ù.

Ø¹Ù†Ø¯ Ø§Ù„ØªØ³ÙƒÙŠÙ†ØŒ ÙƒÙ„ Ø¹Ù†ØµØ± ÙŠÙ…Ø«Ù„ ØºØ±ÙØ© Ù…Ø³ØªÙ‚Ù„Ø©.

Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø°Ù Ù…Ù† Ø§Ù„ØºØ±ÙØ©ØŒ ÙŠØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø¹Ù†ØµØ± Ù…Ø¨Ø§Ø´Ø±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.

ğŸ‘¤ Ø§Ù„Ø¹Ø²Ø§Ø¨:

ÙƒÙ„ Ø­Ø¬Ø² Ø¹Ø²Ø§Ø¨ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø£ÙØ±Ø§Ø¯ (totalCount).

ÙÙŠ Ù‚Ø³Ù… "Ø§Ù„Ø¹Ø²Ø§Ø¨ ØºÙŠØ± Ø§Ù„Ù…Ø³ÙƒÙ†ÙŠÙ†"ØŒ ÙŠØ¸Ù‡Ø± Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· ÙˆÙ…Ø¹Ù‡ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø«Ù„: Ù…Ø­Ù…Ø¯ Ã— 3.

Ø¹Ù†Ø¯ ØªØ³ÙƒÙŠÙ†Ù‡ØŒ ÙŠØªÙ… **Ø¥Ø¶Ø§ÙØ© Ù†Ø³Ø®Ø© Ù…ÙƒØ±Ø±Ø© Ø¨Ø¹Ø¯Ø¯ **totalCount Ø¥Ù„Ù‰ Ø§Ù„ØºØ±Ù.

Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø°Ù Ù…Ù† Ø§Ù„ØºØ±ÙØ©ØŒ ÙŠØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø¹Ù†ØµØ± ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·ØŒ ÙˆÙŠØ¹Ø§Ø¯ Ø¹Ù†ØµØ± ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…Ø¹ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ.

ÙŠØ³ØªÙ…Ø± Ø¸Ù‡ÙˆØ± Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ø²Ø§Ø¨ ØºÙŠØ± Ø§Ù„Ù…Ø³ÙƒÙ†ÙŠÙ† Ø·Ø§Ù„Ù…Ø§ Ù‡Ù†Ø§Ùƒ Ø£ÙØ±Ø§Ø¯ Ù„Ù… ÙŠÙØ³ÙƒÙ†ÙˆØ§ Ø¨Ø¹Ø¯.

ğŸ§  ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ÙƒÙˆÙ…Ø¨ÙˆÙ†Ù†Øª:

âœ… assignClientToRoom(client):

ØªØ³ÙƒÙŠÙ† Ø¹Ù…ÙŠÙ„ ÙÙŠ Ø§Ù„ØºØ±ÙØ© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©ØŒ Ù…Ø¹ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…ÙƒØ§Ù† (Ø£Ù‚Ù„ Ù…Ù† 4).

ÙŠØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© ØºÙŠØ± Ø§Ù„Ù…Ø³ÙƒÙ†ÙŠÙ† Ø¨Ø´ÙƒÙ„ Ø¬Ø²Ø¦ÙŠ Ø­Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙØ±Ø§Ø¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠÙŠÙ†.

âœ… removeClientFromRoom(roomIndex, clientIndex):

Ø¥Ø²Ø§Ù„Ø© Ø¹Ù†ØµØ± ÙˆØ§Ø­Ø¯ Ù…Ù† Ø§Ù„ØºØ±ÙØ©ØŒ ÙˆØ¥Ø¹Ø§Ø¯ØªÙ‡ Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© ØºÙŠØ± Ø§Ù„Ù…Ø³ÙƒÙ†ÙŠÙ†.

ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø²Ø§Ø¨ØŒ ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ø¨Ø´ÙƒÙ„ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ.

âœ… resetAssignment():

ØªØ¹ÙŠØ¯ ØªÙˆØ²ÙŠØ¹ ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù…Ù† Ø§Ù„ØºØ±Ù Ø¥Ù„Ù‰ Ù‚ÙˆØ§Ø¦Ù…Ù‡Ù… Ø§Ù„ØµØ­ÙŠØ­Ø© (Ø¹Ø§Ø¦Ù„ÙŠ Ø£Ùˆ Ø¹Ø²Ø§Ø¨).

ÙŠØªÙ… ØªÙØ±ÙŠØº Ø§Ù„ØºØ±Ù Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø«Ù… Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ø´ÙƒÙ„ Ø¢Ù…Ù† Ø¨Ø¯ÙˆÙ† ØªÙƒØ±Ø§Ø± Ø²Ø§Ø¦Ø¯.

âœ… autoAssignSingles():

ØªÙˆØ²Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ø¹Ø²Ø§Ø¨ ÙÙ‚Ø·.

ÙƒÙ„ Ø¹Ù…ÙŠÙ„ ÙŠÙØ³ÙƒÙ† Ø­Ø³Ø¨ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø­ ÙÙŠ Ø§Ù„ØºØ±Ù.

ÙŠØªÙ… ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø¹Ø¯Ø¯ (totalCount) Ø­Ø³Ø¨ Ù…Ø§ ØªÙ… ØªØ³ÙƒÙŠÙ†Ù‡ØŒ ÙˆØ§Ù„Ø¨Ø§Ù‚ÙŠ ÙŠÙØ¹Ø§Ø¯ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©.

âœ… autoAssignFamily():

ØªÙˆØ²Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø§Ù„ØºØ±Ù Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠØ©.

ÙƒÙ„ Ø¹Ù†ØµØ± (ÙŠÙ…Ø«Ù„ ØºØ±ÙØ©) ÙŠÙˆØ¶Ø¹ ÙÙŠ ØºØ±ÙØ© ÙØ§Ø±ØºØ©.

ÙÙŠ Ø­Ø§Ù„ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ ØºØ±Ù ÙƒØ§ÙÙŠØ©ØŒ ÙŠØ¸Ù‡Ø± alert ÙˆÙŠØªÙ… Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.

ğŸ–¨ï¸ Ø¯Ø¹Ù… Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© PDF:

ØªÙ… Ø¯Ø¹Ù… Ø·Ø¨Ø§Ø¹Ø© PDF Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© html2pdf.js Ù…Ù† Ø®Ù„Ø§Ù„ Ø²Ø± ÙŠÙ‚ÙˆÙ… Ø¨ØªØ­ÙˆÙŠÙ„ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ³ÙƒÙŠÙ† Ø¥Ù„Ù‰ Ù…Ù„Ù PDF Ø¨Ø¹Ø±Ø¶ A4 landscape.

Ø§Ù„ØªØµÙ…ÙŠÙ… ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø±Ø¨Ø¹Ø§Øª ØªÙ…Ø«Ù„ Ø§Ù„ØºØ±Ù (Ø¹Ø¯Ø¯Ù‡Ù… Ø«Ø§Ø¨Øª Ø­Ø§Ù„ÙŠÙ‹Ø§ 20)ØŒ ÙˆÙƒÙ„ Ù…Ø±Ø¨Ø¹ ÙŠÙ…Ø«Ù„ ØºØ±ÙØ© ÙˆÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø³ÙƒÙ†ÙŠÙ† Ø¨Ø¯Ø§Ø®Ù„Ù‡Ø§. Ù‡Ù†Ø§Ùƒ Ù…Ø±Ø¨Ø¹ ØµØºÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ Ù„Ø­Ø¬Ø² Ø±Ù‚Ù… Ø§Ù„ØºØ±ÙØ© ÙŠØ¯ÙˆÙŠÙ‹Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©.

ğŸ“Œ ØªÙ‚Ù†ÙŠØ§Øª Ù…Ø³ØªØ®Ø¯Ù…Ø©:

Angular 18 Standalone Components

html2pdf.js

TypeScript

SCSS + Tailwind CSS (Ø£Ùˆ Flex-based layout)

ØªØµÙ†ÙŠÙ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø­Ø³Ø¨ stayType

Ø§Ø³ØªØ®Ø¯Ø§Ù… totalCount Ùˆ numOfRooms Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ

Ù„Ùˆ Ù…Ø­ØªØ§Ø¬ Ø£Ø¶ÙŠÙ Ø£Ù…Ø«Ù„Ø© Ø£Ùˆ Ù…Ù„ÙØ§Øª ØªØµÙ…ÙŠÙ… Ø£Ùˆ Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª PDFØŒ Ø¨Ù„ØºÙ†ÙŠ ÙÙˆØ±Ø§Ù‹ ğŸ’ª

Ùˆ Ø¯ÙˆÙ„ Ù…Ø«Ø§Ù„ Ø¨Ø³ÙŠØ· Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø­Ø¬Ø²Â {

    "clientName": "Ù…Ø­Ù…Ø¯ Ù…ØµØ·ÙÙŠ  .",

    "menCount": 0,

    "womenCount": 0,

    "totalCount": 1,

    "hotelName": "Ø§Ù… Ø§Ù„Ø¯Ø§Ù†Ø© Ù…ÙŠÙ„ÙŠÙ†ÙŠÙˆÙ…",

    "bedsCountInRoom": 0,

    "numOfRooms": 0,

    "numOfSingleBeds": 1,

    "fromDate": "2025-07-03T00:00:00",

    "toDate": "2025-07-05T00:00:00",

    "stayType": 1,

    "gender": 1,

    "invoiceNumber": "INV-1122",

    "employeeName": "Admin Admin",

    "paymentMethod": 2

}{

    "clientName": "Ù…Ø­Ù…Ø¯ Ø§Ø­Ù…Ø¯  .",

    "menCount": 0,

    "womenCount": 2,

    "totalCount": 3,

    "hotelName": "Ø§Ù… Ø§Ù„Ø¯Ø§Ù†Ø© Ù…ÙŠÙ„ÙŠÙ†ÙŠÙˆÙ…",

    "bedsCountInRoom": 3,

    "numOfRooms": 1,

    "numOfSingleBeds": 0,

    "fromDate": "2025-07-03T00:00:00",

    "toDate": "2025-07-05T00:00:00",

    "stayType": 2,

    "gender": 1,

    "invoiceNumber": "INV-1115",

    "employeeName": "Admin Admin",

    "paymentMethod": 1

}{

    "clientName": "Ø¹Ù…Ø§Ø¯ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ… Ù…Ø­Ù…Ø¯  .",

    "menCount": 2,

    "womenCount": 3,

    "totalCount": 6,

    "hotelName": "Ø§Ù… Ø§Ù„Ø¯Ø§Ù†Ø© Ù…ÙŠÙ„ÙŠÙ†ÙŠÙˆÙ…",

    "bedsCountInRoom": 6,

    "numOfRooms": 1,

    "numOfSingleBeds": 0,

    "fromDate": "2025-07-04T00:00:00",

    "toDate": "2025-07-09T00:00:00",

    "stayType": 2,

    "gender": 1,

    "invoiceNumber": "INV-1099",

    "employeeName": "Admin Admin",

    "paymentMethod": 3

}Ùˆ Ù‡Ù†Ø§Ùƒ enumÂ Â  Â  stayType: {

Â  Â  Â  1: "Ø¹Ø²Ø§Ø¨",

Â  Â  Â  2: "Ø¹Ø§Ø¦Ù„ÙŠ"

Â  Â  },Â  Â  gender: {

Â  Â  Â  1: "Ø°ÙƒØ±",

Â  Â  Â  2: "Ø£Ù†Ø«Ù‰"

Â  Â  },
-->